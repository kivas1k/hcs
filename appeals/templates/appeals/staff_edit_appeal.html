{% extends "base.html" %}

{% block title %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏—è #{{ appeal.id }} ‚Äî –ñ–ö–• –°–µ—Ä–≤–∏—Å{% endblock %}

{% block content %}
<div class="auth-form">
  <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏—è #{{ appeal.id }}</h2>
  <form method="post">
    {% csrf_token %}

    <div class="form-group card-style">
      <label>{{ form.status.label }}</label>
      {{ form.status }}
    </div>

    <div class="form-group card-style">
      <label>{{ form.priority.label }}</label>
      {{ form.priority }}
    </div>

    <div class="form-group card-style">
      <label>üè∑ {{ form.tags.label }}</label>
      <div class="tags-container">
        {% for checkbox in form.tags %}
          <label class="tag-button">
            {{ checkbox.tag }}
            <span class="custom-checkbox"></span>
            <span class="tag-label">{{ checkbox.choice_label }}</span>
          </label>
        {% endfor %}
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary">
        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
      </button>
      <a href="{% url 'appeals:staff_appeals' %}" class="btn btn-outline">
        –û—Ç–º–µ–Ω–∞
      </a>
    </div>
  </form>
</div>

<style>
.tags-container {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  padding: 8px 0;
}

.tag-button {
  display: inline-flex;
  align-items: center;
  padding: 8px 16px;
  border: 2px solid #e0f5eb;
  border-radius: 20px;
  background: #f8fffb;
  cursor: pointer;
  transition: all 0.2s;
}

.tag-button:hover {
  background: #e0f5eb;
}

.tag-button.active {
  background: var(--primary);
  border-color: var(--primary);
  color: white;
}

.custom-checkbox {
  width: 18px;
  height: 18px;
  border: 2px solid var(--primary);
  border-radius: 4px;
  margin-right: 8px;
  transition: all 0.2s;
}

.form-group select {
  width: 100%;
  padding: 0.8rem;
  border: 2px solid #e0f5eb;
  border-radius: 8px;
  background: #f8fffb;
  font-size: 1rem;
  appearance: none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 1rem center;
  background-size: 1em;
}

.form-group select:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(0, 168, 107, 0.2);
}
</style>
{% endblock %}